# ============================================================
# Discord Music Bot - Environment Configuration
# ============================================================
# All nested settings use double underscore: SECTION__KEY=value
# Copy this file to .env and fill in your values:
#   cp .env.example .env
# ============================================================

# === Required ===

# Bot token from https://discord.com/developers/applications
DISCORD__TOKEN=your_discord_bot_token_here

# Your Discord user ID(s) for owner-only commands (JSON array)
DISCORD__OWNER_IDS=[your_discord_user_id]

# Guild/Server IDs where the bot should operate (JSON array)
DISCORD__GUILD_IDS=[your_guild_id_1,your_guild_id_2]

# === General ===

ENVIRONMENT=production
LOG_LEVEL=INFO
DEBUG=false
SYNC_ON_STARTUP=true

# === Discord ===

DISCORD__COMMAND_PREFIX=!
# Guild IDs for faster slash command sync during development (JSON array)
# DISCORD__TEST_GUILD_IDS=[]

# === Database ===

DATABASE__URL=sqlite:///data/bot.db
DATABASE__ECHO=false
# DATABASE__POOL_SIZE=5
# DATABASE__BUSY_TIMEOUT_MS=5000
# DATABASE__CONNECTION_TIMEOUT_S=10

# === Audio ===

AUDIO__DEFAULT_VOLUME=0.5
AUDIO__MAX_QUEUE_SIZE=50
# AUDIO__YTDLP_FORMAT=bestaudio/best

# YouTube PO Token Provider (bgutil-ytdlp-pot-provider)
# Required for YouTube playback — run `make pot-start` first
# AUDIO__POT_SERVER_URL=http://127.0.0.1:4416

# === AI (Optional — powers /radio and genre charts) ===

# pydantic-ai reads API keys from standard provider env vars:
# OPENAI_API_KEY=sk-...        (for openai: models)
# ANTHROPIC_API_KEY=sk-ant-... (for anthropic: models)
# GOOGLE_API_KEY=...           (for google-gla: models)

# Model in "provider:model" format (default: openai:gpt-5-mini)
# AI__MODEL=openai:gpt-5-mini
# AI__MODEL=anthropic:claude-sonnet-4-5-20250929
# AI__MODEL=google-gla:gemini-2.0-flash

# AI__MAX_TOKENS=500
# AI__TEMPERATURE=0.7
# AI__CACHE_TTL_SECONDS=3600

# === Radio ===

# RADIO__DEFAULT_COUNT=5
# RADIO__MAX_TRACKS_PER_SESSION=50

# === Voting ===

VOTING__SKIP_THRESHOLD_PERCENTAGE=0.5
VOTING__MIN_VOTERS=1
# VOTING__AUTO_SKIP_LISTENER_COUNT=2

# === Cleanup ===

CLEANUP__STALE_SESSION_HOURS=24
CLEANUP__CLEANUP_INTERVAL_MINUTES=30
